<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Admin Main Page</title>
    <!-- Bootstrap -->
	<link href="css/bootstrap.css" rel="stylesheet">
	<link href="css/bootstrap-3.3.7.css" rel="stylesheet" type="text/css">

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
		  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->
  </head>
  <body onLoad="initFirebase()">
	<div class="container" style="width: 100%">
      <header class="row">
        <div class="col-lg-12">
          <h1>Admin Firebase UI</h1>
        </div>
      </header>
      <div class="row">
        <div class="col-lg-12">
          <ul class="nav nav-tabs">
            <li role="presentation"><a href="category.html">Select category</a></li>
            <li role="presentation"><a href="questionSearch.html">Find question</a></li>
          </ul>
        </div>
      </div>
      <div class="row">
    <div class="col-lg-12">
      <div class="row">
        <div class="col-lg-12">
        	
        	<input id="userEmail" type="text" placeholder="Email...">
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12">
        
        	<input id="userPassword" type="password" placeholder="Password...">
        	
        </div>
      </div>
      <div class="row">
        <div class="col-lg-3">
         	
              <button type="button" class="btn btn-default" onClick="Login()"> Login    
              </button>
        </div>
        <div class="col-lg-3">
         	
              <button type="button" class="btn btn-default" onClick="Logout()"> Logout    
              </button>
        </div>
      </div>
    </div>
      </div>
	</div>
	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) --> 
	<script src="js/jquery-1.11.3.min.js"></script>

	<!-- Include all compiled plugins (below), or include individual files as needed --> 
	<script src="js/bootstrap.js"></script>
	<script src="https://www.gstatic.com/firebasejs/4.1.3/firebase.js"> </script>
	<script src="https://www.gstatic.com/firebasejs/4.1.3/firebase-app.js"> </script>
	<script src="https://www.gstatic.com/firebasejs/4.1.3/firebase-database.js"> </script>
	<script src="https://www.gstatic.com/firebasejs/4.1.3/firebase-storage.js"> </script>
	<script src="https://www.gstatic.com/firebasejs/4.1.3/firebase-auth.js"> </script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"> </script>
	<script>
		
		function initFirebase(){
			var config = {
			  apiKey: "AIzaSyCwYIYau4w3LKZ4EuKZPdBIfbdmg1JsWvQ", 	   
			  databaseURL: "https://studymechanics.firebaseio.com",
			storageBucket: "studymechanics.appspot.com",
			  authDomain: "studymechanics.firebaseapp.com",
		  };
		  firebase.initializeApp(config);
			
			 firebase.auth().onAuthStateChanged(function(user) {
			  	 
			  window.user = user;
			  // Step 1:
			  //  If no user, sign in anonymously with firebase.auth().signInAnonymously()
			  //  If there is a user, log out out user details for debugging purposes.
				 console.log(window.user);				 
				 firebase.database().ref('Categories').child("Force").set(22);
			});
			
		}
		
		
		function Logout(){
		firebase.auth().signOut()
		 .catch(function (err) {
		   // Handle errors
		 });	
			console.log("Signed OUT!");
			
		}
	  function Login(){
		  
		  var email = document.getElementById("userEmail").value;
		  var password= document.getElementById("userPassword").value;
		  ////Check both values here
			if(email==null || email==""||password==null || password==""){
				alert("Please enter email and password for login!");
				return;
			}
		  
		  firebase.auth().signInWithEmailAndPassword(email, password).catch(function(error) {
			  // Handle Errors here.
			  var errorCode = error.code;
			  var errorMessage = error.message;
			   console.log(errorMessage);
			  // ...
			});
		  
		  
		 
	  }
	  </script>
  </body>
</html>